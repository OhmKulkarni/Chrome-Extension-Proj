<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Domain Visibility UI Fix Test</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            background: #f5f5f5; 
            color: #333;
        }
        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
            background: white; 
            padding: 20px; 
            border-radius: 8px; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.1); 
        }
        .fix { 
            background: #e8f5e9; 
            padding: 15px; 
            margin: 20px 0; 
            border-left: 4px solid #4caf50; 
            border-radius: 4px; 
        }
        .before-after { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 20px; 
            margin: 20px 0; 
        }
        .before, .after { 
            padding: 15px; 
            border-radius: 4px; 
            border: 1px solid #ddd;
        }
        .before { 
            background: #ffebee; 
            border-color: #f44336; 
        }
        .after { 
            background: #e8f5e9; 
            border-color: #4caf50; 
        }
        .mock-table-row {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 12px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            margin: 8px 0;
            background: white;
        }
        .domain-cell {
            flex: 1;
            min-width: 0;
        }
        .domain-main {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .domain-url {
            font-size: 12px;
            color: #666;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        .badge {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 10px;
            font-weight: 500;
        }
        .badge-service { background: #e1bee7; color: #7b1fa2; }
        .badge-main { background: #c8e6c9; color: #2e7d32; }
        .badge-grouped { background: #bbdefb; color: #1976d2; }
        .stat-cell {
            width: 60px;
            text-align: center;
            font-weight: 600;
        }
        .icon { width: 12px; height: 12px; }
        h2 { color: #1976d2; border-bottom: 2px solid #1976d2; padding-bottom: 10px; }
        h3 { color: #388e3c; }
        .success { color: #4caf50; font-weight: bold; }
        .problem { color: #f44336; font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <h1>🔧 UI Fix: Domain Tab Visibility</h1>
        
        <div class="fix">
            <h3>✅ Problem Fixed: Main Tab Domain Now Visible</h3>
            <p><strong>Issue:</strong> When domains were grouped together, users couldn't see which specific tab/page the group represented.</p>
            <p><strong>Solution:</strong> Added primary tab URL display below the main domain name for better context.</p>
        </div>

        <h2>🔄 Before vs After Comparison</h2>
        
        <div class="before-after">
            <div class="before">
                <h3>❌ Before: Limited Visibility</h3>
                <p><span class="problem">Problem:</span> Only showed the main domain name with badges, but no context about which specific page/tab this represents.</p>
                
                <div class="mock-table-row">
                    <div class="domain-cell">
                        <div class="domain-main">
                            reddit.com
                            <span class="badge badge-service">Service</span>
                            <span class="badge badge-main">Main</span>
                            <span class="badge badge-grouped">5</span>
                        </div>
                        <!-- No tab context visible -->
                    </div>
                    <div class="stat-cell">15</div>
                    <div class="stat-cell">2</div>
                    <div class="stat-cell">3</div>
                </div>
                
                <div class="mock-table-row">
                    <div class="domain-cell">
                        <div class="domain-main">
                            github.com
                            <span class="badge badge-service">Service</span>
                            <span class="badge badge-main">Main</span>
                            <span class="badge badge-grouped">4</span>
                        </div>
                        <!-- No tab context visible -->
                    </div>
                    <div class="stat-cell">23</div>
                    <div class="stat-cell">1</div>
                    <div class="stat-cell">0</div>
                </div>
            </div>
            
            <div class="after">
                <h3>✅ After: Clear Tab Context</h3>
                <p><span class="success">Improvement:</span> Shows both the main domain AND the specific tab URL, making it clear what page each group represents.</p>
                
                <div class="mock-table-row">
                    <div class="domain-cell">
                        <div class="domain-main">
                            reddit.com
                            <span class="badge badge-service">Service</span>
                            <span class="badge badge-main">Main</span>
                            <span class="badge badge-grouped">5</span>
                        </div>
                        <div class="domain-url">
                            📄 reddit.com/r/programming
                        </div>
                    </div>
                    <div class="stat-cell">15</div>
                    <div class="stat-cell">2</div>
                    <div class="stat-cell">3</div>
                </div>
                
                <div class="mock-table-row">
                    <div class="domain-cell">
                        <div class="domain-main">
                            github.com
                            <span class="badge badge-service">Service</span>
                            <span class="badge badge-main">Main</span>
                            <span class="badge badge-grouped">4</span>
                        </div>
                        <div class="domain-url">
                            📄 github.com/microsoft/vscode
                        </div>
                    </div>
                    <div class="stat-cell">23</div>
                    <div class="stat-cell">1</div>
                    <div class="stat-cell">0</div>
                </div>
                
                <div class="mock-table-row">
                    <div class="domain-cell">
                        <div class="domain-main">
                            claude.ai
                            <span class="badge badge-service">Service</span>
                            <span class="badge badge-main">Main</span>
                            <span class="badge badge-grouped">3</span>
                        </div>
                        <div class="domain-url">
                            📄 claude.ai/chat/new
                        </div>
                    </div>
                    <div class="stat-cell">8</div>
                    <div class="stat-cell">0</div>
                    <div class="stat-cell">2</div>
                </div>
            </div>
        </div>

        <h2>🔧 Implementation Details</h2>

        <div class="fix">
            <h3>UI Changes Made:</h3>
            <ul>
                <li>✅ <strong>Increased column width:</strong> max-w-[200px] → max-w-[300px] for more space</li>
                <li>✅ <strong>Added flex-col layout:</strong> Stack domain name and tab URL vertically</li>
                <li>✅ <strong>Primary tab URL display:</strong> Shows clean URL below main domain name</li>
                <li>✅ <strong>Smart formatting:</strong> Removes protocol and trailing slash for cleaner look</li>
                <li>✅ <strong>Visual distinction:</strong> Uses 📄 icon and gray text for tab context</li>
                <li>✅ <strong>Responsive design:</strong> Truncates long URLs with tooltip on hover</li>
            </ul>
        </div>

        <h2>🎯 Benefits</h2>

        <div class="fix">
            <h3>User Experience Improvements:</h3>
            <ul>
                <li>🔍 <strong>Clear Context:</strong> Users can immediately see which tab/page each domain group represents</li>
                <li>📊 <strong>Better Organization:</strong> Easy to distinguish between different pages on the same domain</li>
                <li>🎯 <strong>Visual Hierarchy:</strong> Domain name prominent, tab URL as supporting context</li>
                <li>💡 <strong>Intuitive Design:</strong> Follows natural reading pattern (main info → details)</li>
                <li>📱 <strong>Responsive:</strong> Works well even with longer URLs through truncation</li>
            </ul>
        </div>

        <h2>🚀 Real-World Examples</h2>

        <div class="fix">
            <p><strong>Now when users see domain statistics, they get full context:</strong></p>
            <ul>
                <li>📄 <strong>reddit.com/r/programming</strong> - clearly shows this is the programming subreddit</li>
                <li>📄 <strong>github.com/microsoft/vscode</strong> - shows specific repository being viewed</li>
                <li>📄 <strong>claude.ai/chat/new</strong> - indicates this is a new chat session</li>
                <li>📄 <strong>stackoverflow.com/questions/ask</strong> - shows user was asking a question</li>
            </ul>
        </div>

        <div class="fix">
            <h3>✅ Problem Solved!</h3>
            <p>The domain statistics table now provides <strong>clear, actionable context</strong> about what each grouped domain represents, making the extension much more user-friendly and informative.</p>
        </div>
    </div>

    <script>
        console.log('🔧 Domain Visibility UI Fix Test Page Loaded');
        console.log('✅ Main tab domain names are now clearly visible in grouped domain stats');
        console.log('🎯 Users can easily understand which tab/page each domain group represents');
    </script>
</body>
</html>
